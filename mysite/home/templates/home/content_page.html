{% extends "base.html" %}
{% block content %}
{% for child in self.body %}
  {% if child.block_type == 'gallery' %}
    {% include "home/blocks/gallery_block.html" with block=child.value %}
  {% endif %}
{% endfor %}
{% endblock %}

{% block extra_css %}
  <style>
    body, html {
      margin: 0;
    }
    .gallery-slide {
      width: 100%;
    }

    .gallery-slide-inner {
      text-align: center;
    }

    .gallery-wrapper {
      width: 100%;
      overflow: hidden;
    }

    .hidden {
      display: none;
    }
  </style>
{% endblock %}

{% block extra_js %}
  <script>
    $(document).ready(function () {
      var i = 0;
      var $slide = $('.gallery-slide');
      $slide.addClass('hidden');
      $slide.addClass('hidden').eq(0).removeClass('hidden');
      setInterval(function () {
        $slide.addClass('hidden').eq(i).removeClass('hidden');
        i = i == $slide.length - 1 ? 0 : i + 1;
      }, 1500);
    });
  </script>
{% endblock %}